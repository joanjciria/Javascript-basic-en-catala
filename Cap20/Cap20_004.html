<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Canvas</title>
    <style>
        #llenç{
        border:1px #f28340 solid;
        }
    </style>
    <script>
      function animacio (e) {
      
        llenç.clearRect(0,0,800,350);
      
        var xdelratoli=e.clientX;
        var ydelratoli=e.clientY;
      
        var xcentre=220;
        var ycentre=150;
      
        var angle=Math.atan2(xdelratoli-xcentre,ydelratoli-ycentre);
      
        var x=xcentre+Math.round(Math.sin(angle)*10);
        var y=ycentre+Math.round(Math.cos(angle)*10);
      
        llenç.beginPath();
        llenç.arc(xcentre,ycentre,20,0,Math.PI*2,false);
        llenç.moveTo(290,150);
        llenç.arc(270,ycentre,20,0,Math.PI*2,false);
        llenç.stroke();
      
        llenç.beginPath();
        llenç.arc(x,y,10,0,Math.PI*2,false);
            //llenç.moveTo(x,y);
            llenç.arc(x+50,y,10,0,Math.PI*2,false);
            llenç.fill();
    }

    function començar () {
        var element=document.getElementById("llenç");
        llenç=element.getContext("2d");
        
        window.addEventListener("mousemove",animacio,false);
    }
    window.addEventListener("load",començar,false); 
    </script>
  
  </head>

  <body>
    
    <section id="dibujo">
        <canvas id="llenç" width="500" height="350"></canvas>
    </section>
    
  </body>
</html>
